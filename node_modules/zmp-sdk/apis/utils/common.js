import r from'./../external/@swc/helpers/src/_async_to_generator.mjs.js';import n from'./../external/@swc/helpers/src/_type_of.mjs.js';import{ACTION as t}from"../constants.js";import e from"./debug.js";import o from"./lodash.js";import{StatusBarType as i}from"../types/enum.js";import u from"../common/token.js";import a from"../appEnv/getEnv.js";import{__generator as c}from'./../external/tslib/tslib.es6.js';var s=e("zmp:utils:common"),p=function(r){if(o.isObject(JSON)&&JSON.stringify)return JSON.stringify(r);if(void 0===r)return"undefined";if(null===r)return"null";try{if("string"==typeof r||null!==r.constructor.toString().match(/string/i))return'"'+r.replace(/"/g,'\\"')+'"'}catch(r){console.log(r)}var n;if(null!==Object.prototype.toString.call(r).match(/array/i)){n=[];for(var t=r.length,e=0;e<t;e++)n.push(p(r[e]));return"["+n.join(",")+"]"}if("object"==typeof r){for(var i in n=[],r)n.push('"'+i+'":'+p(r[i]));return"{"+n.join(",")+"}"}return r.toString()},l=function(r){var n,e,o=t[r],i=(null===(n=a())||void 0===n?void 0:n.zaloVersion)||0,u="versionLive"in o&&(null==o||null===(e=o.versionLive)||void 0===e?void 0:e.iOS)||0;return!!(Array.isArray(window.ignoreCheckSupport)&&window.ignoreCheckSupport.length>0&&window.ignoreCheckSupport.includes(r))||Number(i)>=u},f=function(r){try{if(r){s(r);var t=r.replace(/\\/g,"").replace(/&#39;/g,"'");try{t=decodeURIComponent(atob(r))}catch(r){}return s("formattedValue",t,JSON.parse(t),n(JSON.parse(t))),JSON.parse(t)}return null}catch(n){return s("parse json error:",n),r}},m=function(r){if(o.isObject(JSON)&&JSON.parse&&o.isString(r)){var n=r.replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\x00/g,"");return JSON.parse(n,(function(r,n){return n}))}return o.isObject(r)?r:new Function("return "+r)()},d=function(r){for(var n=document.getElementsByTagName("meta"),t=0;t<n.length;t++)if(n[t].getAttribute("name")===r||n[t].getAttribute("property")===r)return n[t].getAttribute("content");return""},g=function(r){return btoa(encodeURIComponent(JSON.stringify(r)))},h=function(r,n){var t,e=0;for(t in r){var o=t.split("_")[0];r.hasOwnProperty(t)&&(n&&o!==n||(e+=2*(r[t].length+t.length)))}return e};function v(r){return r.map((function(r,n){var t=r.path.length>0?r.path.map((function(r,n){return n>0?"[".concat(r,"]"):r})).join(""):"arg";return"Error ".concat(n+1,": Code: ").concat(r.code," ~ Path: ").concat(t," ~ Message: ").concat(r.message)})).join(" | ")}var y,j=function(r){return r===i.hidden?"hidden":r===i.transparent?"transparent":"normal"},S=function(r){return"hidden"===r?i.hidden:"transparent"===r?i.transparent:i.normal},O=function(r){if(void 0!==r){var n=u.miniProgramConfig;return((null==n?void 0:n.dynamicApis)||[]).find((function(n){return n.action===r&&!1===n.clientHandle}))}},b=function(r){if(void 0===r)return!1;var n=u.miniProgramConfig;return((null==n?void 0:n.requiredAuthenList)||[]).indexOf(r)>=0},w=(y=r((function(){return c(this,(function(n){return[2,new Promise(function(){var n=r((function(r,n){var t;return c(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,u.jumpAndGetToken()];case 1:return n.sent(),t=u.miniProgramConfig,r(!0===(null==t?void 0:t.canUseAccessTokenByDefault)),[3,3];case 2:return n.sent(),r(!1),[3,3];case 3:return[2]}}))}));return function(r,t){return n.apply(this,arguments)}}())]}))})),function(){return y.apply(this,arguments)});export{h as calcLocalStorageSize,w as canUseAccessTokenByDefault,l as checkIOSSupportAction,S as convertStatusBarTypeToNumber,v as generateErrorMessage,O as getDynamicAPIByAction,d as getMetaValue,j as getStatusbarType,b as isRequireUserAuthentication,m as parseJSON,p as serialize,f as stringToData,g as stringifyData};
